> 一个前后端分离的类 django 后台框架

> 由于这个框架是在公司项目上开发的, 不能公开源码, 因此只记录一下思路

## 项目背景
原项目技术栈是 Gin + vue2, 后端还是放在业务项目里的. Leader 觉得 Go 对于复杂统计需求处理不够灵活, 开发成本较高, 希望用 python 重构. 此外, 我个人也觉得, 每次开发一个新需求都要写接口 + 页面, 作为一个服务端来说太难受了 (项目组是没有web前端的). 所以立项开干, 核心诉求是节省开发成本.

## v1.0
最省开发成本的自然是直接用类似 Django admin 的后端渲染的框架, 只写业务, 界面自动生成. 
了解到公司之前有人对 flask-admin 做了二次开发, 集成了公司内部的 SSO, 重写了模板, 比原生的稍微好看一些, 那就直接拿来用咯.
技术栈上就是 Flask 生态了, 为了用过就回不去的 type hint, 直接上了最新的 python3.9.

一顿操作把业务迁移完了, 还对框架进行了三次封装, 优化了交互等...
然后进入测试阶段, 被打回, 说交互大退步...好吧, 用惯了 vue / element-ui 的再回去用 bootstrap 确实体验下降了很多. 

另一方面, 由于服务器和数据库都部署在国外, 在后端渲染的方式下需要从服务器下载渲染好的 html, 相比之前前后端分离的方式加载慢了许多.

那么就面临几个选择:
- 继续使用 flask-admin + bootstrap, 优化一些关键的交互提高体验
- 使用 vue 的 cdn 引入的模式重写一版 Jinja2 模板
- 一不做二不休, 干脆改回前后端分离的形式


## v2.0
鉴于方案三的效果最好, 虽然成本巨大, 还是选了它, 可劲儿折腾...

待续...
